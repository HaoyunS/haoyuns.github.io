<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>

<style>
#map {
    position: fixed;
    width:50%;
}
#features {
    width: 50%;
    margin-left: 50%;
    font-family: Tw Cen MT;
    overflow-y: scroll;
    background-color: #fafafa;
}
section {
    padding:  25px 50px;
    line-height: 25px;
    border-bottom: 1px solid #ddd;
    opacity: 0.25;
    font-size: 20px;
}
section.active {
    opacity: 1;
}
section:last-child {
    border-bottom: none;
    margin-bottom: 1000px;
}
</style>

<div id='map'></div>
<div id='features'>
    <section id='welcome' class='active'>
        <h3>A journey of xxxx miles</h3>
        <p>wow ðŸš€</p>
    </section>
    <section id='section1' class='active'>
        <h3>Bor</h3>
        <p>to Bor town, Bor South County in Jonglei. Humanitarians provided families with emergency transit ration and children vaccinated and provided with medical care.</p>
    </section>
    <section id='section2'>
        <h3>Mongalla</h3>
        <p>by boat on the White Nile</p>
    </section>
    <section id='section3'>
        <h3>Gondokoro</h3>
        <p>boat <br><br> <img src="https://i.imgur.com/NF8af.jpg"><br><br></p>
    </section>
    <section id='section4'>
        <h3>Juba</h3>
        <p>walked to Juba PoC site, rest and recovered from fatigue, provided with food and medical care by humanitarians, engage in income generating activities including selling fire wood and grass.<br><br><iframe src="https://giphy.com/embed/fpXxIjftmkk9y" width="224" height="240" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p></p>
        </p>
    </section>
    <section id='section5'>
        <h3>Nimule town</h3>
        <p>Transported by car to Nimule Town in Magwi County, Eastern Equatoria.<br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/le0BLAEO93g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe> </p>
    </section>
    <section id='section6'>
        <h3>Nimule border check</h3>
        <p>walked 5 km to Nimule border check, bribing security officers to Elegu Entry Point, Uganda.</p>
        <p>The family stayed at Elegu reception center for about three to four days, waiting for registration, provision of humanitarian assistance including food and medical care by humanitarian partners and transportation by United Nations truck to refugee settlement sites.</p>
    </section>
    <section id='section7'>
        <h3>Palorinya Refugee Camp</h3>
        <p>Transported to Palorinya by UN truck.<br><br><iframe src="https://giphy.com/embed/lJNoBCvQYp7nq" width="300" height="300" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p></p></p>
    </section>
</div>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiaHN3OTgiLCJhIjoiY2oyOXh2dzlxMDAwYzJ3bzcyMnRseXcxNCJ9.1h5sGCIL0Pig6OmgZdDBMg';
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/hsw98/cjj44io3n3zoa2rocduv3cdqg',
        bearing: -0,
        center: [31.601389, 6.366275],
        zoom: 5,
        speed: 0.8,
        pitch: 0
});
var chapters = {
    //journey overview
    'welcome': {
        bearing: -0,
        center: [31.601389, 6.366275],
        zoom: 5,
        speed: 0.8,
        pitch: 0
    },
    'section1': {
        bearing: 0,
        center: [31.622557, 6.185155],
        zoom: 10.00,
        pitch: 0
    },
    'section2': {
        center: [31.797406, 5.150103],
        bearing: 54.40,
        zoom: 10,
        speed: 0.6,
        pitch: 44.50
    },
    'section3': {
        bearing: 12.80,
        center: [31.6491144, 4.8999997],
        zoom: 12,
        speed: 0.6,
        pitch: 0.00
    },
    'section4': {
        bearing: 60,
        center: [31.618683, 4.833013],
        zoom: 11,
        speed: 0.6,
        pitch: 45
    },
    'section5': {
        bearing: 15.20,
        center: [32.0146265, 3.452196],
        zoom: 10.56,
        pitch: 40.50,
        speed: 0.6
    },
    'section6': {
        bearing: 0,
        center: [31.3403032, 3.4441619],
        zoom: 10,
        pitch: 0,
        speed: 0.6
    },
    'section7': {
        bearing: 0,
        center: [31.645839, 3.474400],
        zoom: 10,
        speed: 0.8,
        pitch: 0
    },
};
// On every scroll event, check which element is on screen
window.onscroll = function() {
    var chapterNames = Object.keys(chapters);
    for (var i = 0; i < chapterNames.length; i++) {
        var chapterName = chapterNames[i];
        if (isElementOnScreen(chapterName)) {
            setActiveChapter(chapterName);
            break;
        }
    }
};
var activeChapterName = 'baker';
function setActiveChapter(chapterName) {
    if (chapterName === activeChapterName) return;
    map.flyTo(chapters[chapterName]);
    document.getElementById(chapterName).setAttribute('class', 'active');
    document.getElementById(activeChapterName).setAttribute('class', '');
    activeChapterName = chapterName;
}
function isElementOnScreen(id) {
    var element = document.getElementById(id);
    var bounds = element.getBoundingClientRect();
    return bounds.top < window.innerHeight && bounds.bottom > 0;
}
</script>
</body>
</html>